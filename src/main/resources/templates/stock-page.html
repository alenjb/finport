<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>주식 거래</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"/>
</head>
<body class="container mt-5">
<h2>📋 주식 거래</h2>

<form th:action="@{/stock}" method="get" class="row g-3 mb-4">
    <div class="col-md-6">
        <select name="stockId" class="form-select">
            <option th:each="s : ${stocks}" th:value="${s.id}" th:text="${s.name}"
                    th:selected="${selectedStock != null and s.id == selectedStock.id}">종목 선택</option>
        </select>
    </div>
    <div class="col-md-3">
        <button class="btn btn-primary">조회</button>
    </div>
</form>

<div th:if="${selectedStock}" class="mb-4">
    <h4 th:text="${selectedStock.name} + ' 현재 정보'"></h4>
    <ul>
        <li><strong>현재가:</strong> <span th:text="${#numbers.formatDecimal(selectedStock.currentPrice, 0, 'COMMA', 0, 'POINT')}"></span> 원</li>
        <li><strong>상한가:</strong> <span th:text="${#numbers.formatDecimal(selectedStock.upperLimitPrice, 0, 'COMMA', 0, 'POINT')}"></span> 원</li>
        <li><strong>하한가:</strong> <span th:text="${#numbers.formatDecimal(selectedStock.lowerLimitPrice, 0, 'COMMA', 0, 'POINT')}"></span> 원</li>
    </ul>
</div>

<!-- 거래 폼 생략 가능: 필요 시 추가 구현 -->
</body>
</html>